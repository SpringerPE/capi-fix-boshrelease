
<% if p("cc.packages.blobstore_type").downcase == "fog" && p("cc.packages.fog_connection.provider", "").downcase == "local" %>
  # used for x-accel-redirect uri://location/foo.txt
  # nginx will serve the file root || location || foo.txt
  location <%= "/#{p('cc.packages.app_package_directory_key')}/" %> {
  internal;
  root   <%= p("cc.packages.fog_connection.local_root") %>;
  }
<% end %>

<% if p("cc.droplets.blobstore_type").downcase == "fog" && p("cc.droplets.fog_connection.provider", "").downcase == "local" %>
  # used for x-accel-redirect uri://location/foo.txt
  # nginx will serve the file root || location || foo.txt
  location <%= "/#{p('cc.droplets.droplet_directory_key')}/" %> {
  internal;
  root   <%= p("cc.droplets.fog_connection.local_root") %>;
  }
<% end %>

<% if p("cc.buildpacks.blobstore_type").downcase == "fog" && p("cc.buildpacks.fog_connection.provider", "").downcase == "local" %>
  # used for x-accel-redirect uri://location/foo.txt
  # nginx will serve the file root || location || foo.txt
  location <%= "/#{p('cc.buildpacks.buildpack_directory_key')}/" %> {
  internal;
  root   <%= p("cc.buildpacks.fog_connection.local_root") %>;
  }
<% end %>
